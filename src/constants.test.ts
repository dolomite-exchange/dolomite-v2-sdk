// noinspection ES6PreferShortImport

import { keccak256 } from '@ethersproject/solidity'
import { bytecode } from '@dolomite-exchange/dolomite-margin/build/contracts/DolomiteAmmPair.json'
const mumbaiBytecode = '0x60806040526001600f553480156200001657600080fd5b50604051469062000027906200045a565b604051908190039020620000436001600160e01b03620000c916565b805160209182012060408051808201825260018152603160f81b90840152516200009593927fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c672f298b8bc69186913091016200049d565b60408051601f19818403018152919052805160209091012060035550600580546001600160a01b03191633179055620005a7565b6060620000de6001600160e01b036200011816565b620000f16001600160e01b036200016e16565b6040516020016200010492919062000467565b604051602081830303815290604052905090565b6008546040516060916001600160a01b0316906200016890829062000149906395d89b4160e01b906020016200042e565b60408051601f198184030181529190526001600160e01b036200019f16565b91505090565b6009546040516060916001600160a01b0316906200016890829062000149906395d89b4160e01b906020016200042e565b606060006060846001600160a01b031684604051620001bf919062000445565b600060405180830381855afa9150503d8060008114620001fc576040519150601f19603f3d011682016040523d82523d6000602084013e62000201565b606091505b509150915081801562000215575060008151115b156200023b5780806020019051620002319190810190620002b2565b9250505062000250565b60405180602001604052806000815250925050505b92915050565b600082601f8301126200026857600080fd5b81516200027f62000279826200051a565b620004f3565b915080825260208301602083018583830111156200029c57600080fd5b620002a983828462000574565b50505092915050565b600060208284031215620002c557600080fd5b81516001600160401b03811115620002dc57600080fd5b620002ea8482850162000256565b949350505050565b620002fd816200054b565b82525050565b620002fd8162000558565b620002fd6200031d826200055b565b62000558565b6000620003308262000542565b6200033c818562000546565b93506200034e81856020860162000574565b9290920192915050565b60006200036760528362000546565b7f454950373132446f6d61696e28737472696e67206e616d652c737472696e672081527f76657273696f6e2c75696e7432353620636861696e49642c6164647265737320602082015271766572696679696e67436f6e74726163742960701b604082015260520192915050565b6000620003e360018362000546565b605f60f81b815260010192915050565b60006200040260138362000546565b7f446f6c6f6d697465204c5020546f6b656e3a2000000000000000000000000000815260130192915050565b60006200043c82846200030e565b50600401919050565b600062000453828462000323565b9392505050565b6000620002508262000358565b60006200047482620003f3565b915062000482828562000323565b91506200048f82620003d4565b9150620002ea828462000323565b60a08101620004ad828862000303565b620004bc602083018762000303565b620004cb604083018662000303565b620004da606083018562000303565b620004e96080830184620002f2565b9695505050505050565b6040518181016001600160401b03811182821017156200051257600080fd5b604052919050565b60006001600160401b038211156200053157600080fd5b506020601f91909101601f19160190565b5190565b919050565b6000620002508262000568565b90565b6001600160e01b03191690565b6001600160a01b031690565b60005b838110156200059157818101518382015260200162000577565b83811115620005a1576000848401525b50505050565b61401580620005b76000396000f3fe608060405234801561001057600080fd5b50600436106102415760003560e01c80636a62784211610145578063b432a82c116100bd578063d21220a71161008c578063dd62ed3e11610071578063dd62ed3e14610442578063e29d390e14610455578063fff6cae91461045d57610241565b8063d21220a714610427578063d505accf1461042f57610241565b8063b432a82c146103fc578063ba9a7a5614610404578063c0c53b8b1461040c578063c45a01551461041f57610241565b8063763548571161011457806395d89b41116100f957806395d89b41146103c05780639dc29fac146103c8578063a9059cbb146103e957610241565b806376354857146103a55780637ecebe00146103ad57610241565b80636a627842146103605780636b818e181461037357806370a082311461038a5780637464fc3d1461039d57610241565b8063313ce567116101d8578063448f7065116101a75780635a3d54931161018c5780635a3d5493146103485780635cbe0192146103505780635cebb0451461035857610241565b8063448f7065146103205780635909c0d51461034057610241565b8063313ce567146102e6578063347de7b3146102fb5780633644e515146103035780634101d9531461030b57610241565b806323b872dd1161021457806323b872dd146102ae5780632580aeca146102c15780632d28b749146102c957806330adf81f146102de57610241565b806306fdde0314610246578063095ea7b3146102645780630dfe16811461028457806318160ddd14610299575b600080fd5b61024e610465565b60405161025b9190613cc2565b60405180910390f35b6102776102723660046135d7565b61049c565b60405161025b9190613bc9565b61028c6104b3565b60405161025b9190613bbb565b6102a16104c2565b60405161025b9190613bd7565b6102776102bc3660046134f8565b6104c8565b61024e610581565b6102dc6102d73660046135d7565b6105e2565b005b6102a161085b565b6102ee61087f565b60405161025b9190613db1565b6102a1610884565b6102a1610890565b610313610896565b60405161025b9190613d5f565b61033361032e3660046136d2565b6108ae565b60405161025b9190613cf3565b6102a16111ea565b6102a16111f0565b61024e6111f6565b61031361123d565b6102a161036e36600461342d565b611269565b61037b61158d565b60405161025b93929190613d37565b6102a161039836600461342d565b6115e2565b6102a16115f4565b61028c6115fa565b6102a16103bb36600461342d565b611609565b61024e61161b565b6103db6103d63660046135d7565b61163e565b60405161025b929190613d7b565b6102776103f73660046135d7565b611b3c565b61037b611b49565b6102a1611d96565b6102dc61041a3660046134ab565b611d9c565b61028c612177565b61028c612186565b6102dc61043d36600461353b565b612195565b6102a1610450366004613471565b61237f565b61028c61239c565b6102dc6123ab565b606061046f610581565b6104776111f6565b604051602001610488929190613bb0565b604051602081830303815290604052905090565b60006104a933848461248f565b5060015b92915050565b6008546001600160a01b031681565b60005481565b6001600160a01b03831660009081526002602090815260408083203384529091528120547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1461056b576001600160a01b0384166000908152600260209081526040808320338452909152902054610546908363ffffffff6124f716565b6001600160a01b03851660009081526002602090815260408083203384529091529020555b610576848484612539565b5060015b9392505050565b6008546040516060916001600160a01b0316906105dc9082906105c8907f95d89b410000000000000000000000000000000000000000000000000000000090602001613aff565b6040516020818303038152906040526125e9565b91505090565b610624600f546001146e2237b637b6b4ba32a0b6b6a830b4b960891b7f6c6f636b6564000000000000000000000000000000000000000000000000000061269d565b6000600f55600654604080516002808252606080830184526001600160a01b0390941693926020830190803883395050600b5482519293506fffffffffffffffffffffffffffffffff169183915060009061067b57fe5b602002602001018181525050600b60109054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff16816001815181106106c557fe5b602002602001018181525050600061072d600a60009054906101000a90046dffffffffffffffffffffffffffff166dffffffffffffffffffffffffffff16610721858560008151811061071457fe5b6020026020010151612753565b9063ffffffff6124f716565b90506000610772600a600e9054906101000a90046dffffffffffffffffffffffffffff166dffffffffffffffffffffffffffff16610721868660018151811061071457fe5b60408051600280825260608083018452939450909160208301908038833901905050905082816000815181106107a457fe5b60200260200101818152505081816001815181106107be57fe5b60209081029190910101526007546040517f87ff090a0000000000000000000000000000000000000000000000000000000081526001600160a01b03909116906387ff090a9061081b906000908b908b908a908890600401613c74565b600060405180830381600087803b15801561083557600080fd5b505af1158015610849573d6000803e3d6000fd5b50506001600f55505050505050505050565b7f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c981565b601290565b670de0b6b3a764000081565b60035481565b600b546fffffffffffffffffffffffffffffffff1681565b6108b6613103565b6108be61312c565b6006546040805160e0810182526001600160a01b03909216808352600b546fffffffffffffffffffffffffffffffff80821660208601819052700100000000000000000000000000000000909204169284019290925291906060820190610926908490612819565b815260200161096583600b60109054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff16612819565b8152600b546040517f56ea84b20000000000000000000000000000000000000000000000000000000081526020909201916001600160a01b038516916356ea84b2916109c6916fffffffffffffffffffffffffffffffff1690600401613d6d565b60606040518083038186803b1580156109de57600080fd5b505afa1580156109f2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610a16919081019061365a565b8152600b546040517f56ea84b20000000000000000000000000000000000000000000000000000000081526020909201916001600160a01b038516916356ea84b291610a8b9170010000000000000000000000000000000090046fffffffffffffffffffffffffffffffff1690600401613d6d565b60606040518083038186803b158015610aa357600080fd5b505afa158015610ab7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610adb919081019061365a565b90528051909250610b2b91506001600160a01b031633146e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c69642073656e64657200000000000000000000000000000000000061269d565b8751610b75906001600160a01b031630146e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c6964206d616b6572206163636f756e74206f776e6572000000000061269d565b610bb988602001516000146e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c6964206d616b6572206163636f756e74206e756d6265720000000061269d565b8651600854610c3c916001600160a01b03918216911614801590610bed575087516009546001600160a01b03908116911614155b8015610c03575087516001600160a01b03163014155b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c69642074616b6572206163636f756e74206f776e6572000000000061269d565b600080610c9083602001518d1480610c57575083604001518d145b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c696420696e707574206d61726b657400000000000000000000000061269d565b610ce183602001518c1480610ca8575083604001518c145b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c6964206f7574707574206d61726b6574000000000000000000000061269d565b8551610d20906e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e70757420776569206d75737420626520706f73697469766500000000000061269d565b600085806020019051610d3691908101906136b4565b9050610d78600082116e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e73756666696369656e74206f757470757420616d6f756e7400000000000061269d565b83602001518d1415610dc85760208701516060850151610d9d9163ffffffff6128cd16565b60608501526080840151610db7908263ffffffff6124f716565b608085015260009250905080610e15565b83604001518d14610dd557fe5b60208701516080850151610dee9163ffffffff6128cd16565b60808501526060840151610e08908263ffffffff6124f716565b6060850152915060009050815b50600080600080610e24611b49565b5091509150610e93826dffffffffffffffffffffffffffff1687108015610e5a5750816dffffffffffffffffffffffffffff1686105b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e73756666696369656e74206c69717569646974790000000000000000000061269d565b85826dffffffffffffffffffffffffffff1603876060015111610eb7576000610ed1565b85826dffffffffffffffffffffffffffff16038760600151035b935084816dffffffffffffffffffffffffffff1603876080015111610ef7576000610f11565b84816dffffffffffffffffffffffffffff16038760800151035b9250610f5e6000851180610f255750600084115b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e73756666696369656e7420696e70757420616d6f756e740000000000000061269d565b6000610f8b610f7486600363ffffffff61290c16565b60608a0151610721906103e863ffffffff61290c16565b90506000610fba610fa386600363ffffffff61290c16565b60808b0151610721906103e863ffffffff61290c16565b9050611040610ff5620f4240610fe96dffffffffffffffffffffffffffff88811690881663ffffffff61290c16565b9063ffffffff61290c16565b611005848463ffffffff61290c16565b10156e2237b637b6b4ba32a0b6b6a830b4b960891b7f4b0000000000000000000000000000000000000000000000000000000000000061269d565b61114c6110888a60a00151602001516bffffffffffffffffffffffff1661107c670de0b6b3a76400008d6060015161290c90919063ffffffff16565b9063ffffffff61296016565b6110c18b60c00151602001516bffffffffffffffffffffffff1661107c670de0b6b3a76400008e6080015161290c90919063ffffffff16565b60a08c015160200151611104906bffffffffffffffffffffffff1661107c6dffffffffffffffffffffffffffff8a16670de0b6b3a764000063ffffffff61290c16565b60c08d015160200151611147906bffffffffffffffffffffffff1661107c6dffffffffffffffffffffffffffff8a16670de0b6b3a764000063ffffffff61290c16565b6129a2565b505050508a600001516001600160a01b0316336001600160a01b03167fd78ad95fa46c994b6551d0da85fc275fe613ce37657fb8d5e3d130840159d8228484888860405161119d9493929190613d96565b60405180910390a3604080516080810190915260008082526020820190815260200160008152602001600086116111d457846111d6565b855b90529e9d5050505050505050505050505050565b600c5481565b600d5481565b6009546040516060916001600160a01b0316906105dc9082906105c8907f95d89b410000000000000000000000000000000000000000000000000000000090602001613aff565b600b5470010000000000000000000000000000000090046fffffffffffffffffffffffffffffffff1681565b60006112ad600f546001146e2237b637b6b4ba32a0b6b6a830b4b960891b7f6c6f636b6564000000000000000000000000000000000000000000000000000061269d565b6000600f819055806112bd61158d565b50600654600b549294509092506001600160a01b0316906000906112f49083906fffffffffffffffffffffffffffffffff16612753565b600b5490915060009061132e90849070010000000000000000000000000000000090046fffffffffffffffffffffffffffffffff16612753565b90506000611352836dffffffffffffffffffffffffffff881663ffffffff6124f716565b90506000611376836dffffffffffffffffffffffffffff881663ffffffff6124f716565b90506113b8600083116e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c6964206d696e7420616d6f756e742030000000000000000000000061269d565b6113f8600082116e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e76616c6964206d696e7420616d6f756e742031000000000000000000000061269d565b60006114048888612c2c565b600054909150806114415761142d6103e8610721611428878763ffffffff61290c16565b612d9c565b995061143c60006103e8612dee565b61149e565b61149b6dffffffffffffffffffffffffffff8a16611465868463ffffffff61290c16565b8161146c57fe5b046dffffffffffffffffffffffffffff8a1661148e868563ffffffff61290c16565b8161149557fe5b04612e87565b99505b6114de60008b116e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e73756666696369656e74206c6971756964697479206d696e74656400000061269d565b6114e88b8b612dee565b6114f486868b8b6129a2565b811561153657600a54611532906dffffffffffffffffffffffffffff808216916e01000000000000000000000000000090041663ffffffff61290c16565b600e555b336001600160a01b03167f4c209b5fc8ad50758f13e2e1088ba56a560dff690a1c6fef26394f4c03821c4f8585604051611571929190613d7b565b60405180910390a250506001600f555095979650505050505050565b600a546dffffffffffffffffffffffffffff808216926e0100000000000000000000000000008304909116917c0100000000000000000000000000000000000000000000000000000000900463ffffffff1690565b60016020526000908152604090205481565b600e5481565b6006546001600160a01b031681565b60046020526000908152604090205481565b6060611625610581565b61162d6111f6565b604051602001610488929190613b82565b600080611683600f546001146e2237b637b6b4ba32a0b6b6a830b4b960891b7f6c6f636b6564000000000000000000000000000000000000000000000000000061269d565b6000600f8190558061169361158d565b50600654604080516002808252606080830184529597509395506001600160a01b039092169392906020830190803883395050600b5482519293506fffffffffffffffffffffffffffffffff16918391506000906116ed57fe5b602002602001018181525050600b60109054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff168160018151811061173757fe5b6020026020010181815250506000611756838360008151811061071457fe5b9050600061176b848460018151811061071457fe5b306000908152600160205260408120548551929350909182906001600160a01b038816906356ea84b2908890849061179f57fe5b60200260200101516040518263ffffffff1660e01b81526004016117c39190613bd7565b60606040518083038186803b1580156117db57600080fd5b505afa1580156117ef573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611813919081019061365a565b602001516bffffffffffffffffffffffff1690506000876001600160a01b03166356ea84b28860018151811061184557fe5b60200260200101516040518263ffffffff1660e01b81526004016118699190613bd7565b60606040518083038186803b15801561188157600080fd5b505afa158015611895573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506118b9919081019061365a565b602001516bffffffffffffffffffffffff1690506118d78a8a612c2c565b600054909450611912670de0b6b3a764000061107c85846118fe898d63ffffffff61290c16565b8161190557fe5b049063ffffffff61290c16565b9c50611935670de0b6b3a764000061107c84846118fe898c63ffffffff61290c16565b9b5061198360008e11801561194a575060008d115b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f696e73756666696369656e74206c6971756964697479206275726e656400000061269d565b61198d3085612e9d565b50506040805160028082526060808301845294509092509060208301908038833901905050905089816000815181106119c257fe5b60200260200101818152505088816001815181106119dc57fe5b602002602001018181525050600760009054906101000a90046001600160a01b03166001600160a01b03166387ff090a60008e8e89866040518663ffffffff1660e01b8152600401611a32959493929190613c74565b600060405180830381600087803b158015611a4c57600080fd5b505af1158015611a60573d6000803e3d6000fd5b50505050611a75868660008151811061071457fe5b9350611a88868660018151811061071457fe5b9250611a9684848a8a6129a2565b8115611ad857600a54611ad4906dffffffffffffffffffffffffffff808216916e01000000000000000000000000000090041663ffffffff61290c16565b600e555b8b6001600160a01b0316336001600160a01b03167fdccd412f0b1252819cb1fd330b93224ca42612892bb3f4f789976e6d819364968c8c604051611b1d929190613d7b565b60405180910390a350505050505050506001600f819055509250929050565b60006104a9338484612539565b600654600b546040517f56ea84b2000000000000000000000000000000000000000000000000000000008152600092839283926001600160a01b0390921691839183916356ea84b291611bb3916fffffffffffffffffffffffffffffffff90911690600401613d6d565b60606040518083038186803b158015611bcb57600080fd5b505afa158015611bdf573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611c03919081019061365a565b60200151600b546040517f56ea84b20000000000000000000000000000000000000000000000000000000081526bffffffffffffffffffffffff90921692506000916001600160a01b038516916356ea84b291611c899170010000000000000000000000000000000090046fffffffffffffffffffffffffffffffff1690600401613d6d565b60606040518083038186803b158015611ca157600080fd5b505afa158015611cb5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611cd9919081019061365a565b60200151600a546bffffffffffffffffffffffff9091169150611d2090670de0b6b3a76400009061107c906dffffffffffffffffffffffffffff168563ffffffff61290c16565b600a54909650611d6090670de0b6b3a76400009061107c906e01000000000000000000000000000090046dffffffffffffffffffffffffffff168461290c565b600a54969790967c0100000000000000000000000000000000000000000000000000000000900463ffffffff1695509350505050565b6103e881565b600554611de7906001600160a01b031633146e2237b637b6b4ba32a0b6b6a830b4b960891b7f666f7262696464656e000000000000000000000000000000000000000000000061269d565b6040517f61bf17b4000000000000000000000000000000000000000000000000000000008152611eb9906001600160a01b038316906361bf17b490611e30903090600401613bbb565b60206040518083038186803b158015611e4857600080fd5b505afa158015611e5c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611e809190810190613607565b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f7472616e736665722070726f7879206e6f7420656e61626c656400000000000061269d565b600880546001600160a01b038086167fffffffffffffffffffffffff0000000000000000000000000000000000000000928316179092556009805492851692909116919091179055604080517f76354857000000000000000000000000000000000000000000000000000000008152905133916376354857916004808301926020929190829003018186803b158015611f5157600080fd5b505afa158015611f65573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611f899190810190613453565b600680547fffffffffffffffffffffffff00000000000000000000000000000000000000009081166001600160a01b039384161791829055600780549091168484161790556008546040517f8fae3be100000000000000000000000000000000000000000000000000000000815291831692638fae3be1926120119290911690600401613bbb565b60206040518083038186803b15801561202957600080fd5b505afa15801561203d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061206191908101906136b4565b600b80547fffffffffffffffffffffffffffffffff00000000000000000000000000000000166fffffffffffffffffffffffffffffffff929092169190911790556006546009546040517f8fae3be10000000000000000000000000000000000000000000000000000000081526001600160a01b0392831692638fae3be1926120ef92911690600401613bbb565b60206040518083038186803b15801561210757600080fd5b505afa15801561211b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061213f91908101906136b4565b600b80546fffffffffffffffffffffffffffffffff928316700100000000000000000000000000000000029216919091179055505050565b6005546001600160a01b031681565b6009546001600160a01b031681565b6121e3428510157f446f6c6f6d697465416d6d4552433230000000000000000000000000000000007f657870697265640000000000000000000000000000000000000000000000000061269d565b6003546001600160a01b03881660009081526004602090815260408083208054600181019091559051929392612244927f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9928d928d928d92918d9101613be5565b6040516020818303038152906040528051906020012060405160200161226b929190613b51565b6040516020818303038152906040528051906020012090506000600182868686604051600081526020016040526040516122a89493929190613c3f565b6020604051602081039080840390855afa1580156122ca573d6000803e3d6000fd5b50506040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe00151915061236990506001600160a01b038216158015906123225750896001600160a01b0316826001600160a01b0316145b7f446f6c6f6d697465416d6d4552433230000000000000000000000000000000007f696e76616c6964207369676e617475726500000000000000000000000000000061269d565b61237489898961248f565b505050505050505050565b600260209081526000928352604080842090915290825290205481565b6007546001600160a01b031681565b6123ed600f546001146e2237b637b6b4ba32a0b6b6a830b4b960891b7f6c6f636b6564000000000000000000000000000000000000000000000000000061269d565b6000600f55600654600b546001600160a01b0390911690612487906124259083906fffffffffffffffffffffffffffffffff16612753565b600b5461245990849070010000000000000000000000000000000090046fffffffffffffffffffffffffffffffff16612753565b600a546dffffffffffffffffffffffffffff808216916e0100000000000000000000000000009004166129a2565b506001600f55565b6001600160a01b0380841660008181526002602090815260408083209487168084529490915290819020849055517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925906124ea908590613bd7565b60405180910390a3505050565b600061057a83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250612f33565b6001600160a01b038316600090815260016020526040902054612562908263ffffffff6124f716565b6001600160a01b038085166000908152600160205260408082209390935590841681522054612597908263ffffffff6128cd16565b6001600160a01b0380841660008181526001602052604090819020939093559151908516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906124ea908590613bd7565b606060006060846001600160a01b0316846040516126079190613b14565b600060405180830381855afa9150503d8060008114612642576040519150601f19603f3d011682016040523d82523d6000602084013e612647565b606091505b509150915081801561265a575060008151115b1561267c57808060200190516126739190810190613625565b925050506104ad565b60405180602001604052806000815250925050506104ad565b505092915050565b8261274e576126ab82612f79565b7f3a200000000000000000000000000000000000000000000000000000000000006126d583612f79565b6040516020016126e793929190613b20565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152908290527f08c379a000000000000000000000000000000000000000000000000000000000825261274591600401613cc2565b60405180910390fd5b505050565b60408051808201825230815260006020820181905291517f47d1b53c0000000000000000000000000000000000000000000000000000000081526001600160a01b038516916347d1b53c916127ad91908690600401613d01565b604080518083038186803b1580156127c457600080fd5b505afa1580156127d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506127fc9190810190613678565b602001516fffffffffffffffffffffffffffffffff169392505050565b60408051808201825230815260006020820181905291517fc190c2ec0000000000000000000000000000000000000000000000000000000081526001600160a01b0385169163c190c2ec9161287391908690600401613d01565b604080518083038186803b15801561288a57600080fd5b505afa15801561289e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506128c29190810190613696565b602001519392505050565b60008282018381101561057a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161274590613cd3565b60008261291b575060006104ad565b8282028284828161292857fe5b041461057a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161274590613ce3565b600061057a83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f00000000000081525061304d565b612a0a6dffffffffffffffffffffffffffff85118015906129d157506dffffffffffffffffffffffffffff8411155b6e2237b637b6b4ba32a0b6b6a830b4b960891b7f62616c616e6365206f766572666c6f770000000000000000000000000000000061269d565b600a5463ffffffff428116917c010000000000000000000000000000000000000000000000000000000090048116820390811615801590612a5a57506dffffffffffffffffffffffffffff841615155b8015612a7557506dffffffffffffffffffffffffffff831615155b15612b25578063ffffffff16612ab885612a8e8661309e565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff169063ffffffff6130c216565b600c80547bffffffffffffffffffffffffffffffffffffffffffffffffffffffff929092169290920201905563ffffffff8116612af884612a8e8761309e565b600d80547bffffffffffffffffffffffffffffffffffffffffffffffffffffffff92909216929092020190555b600a80547fffffffffffffffffffffffffffffffffffff0000000000000000000000000000166dffffffffffffffffffffffffffff888116919091177fffffffff0000000000000000000000000000ffffffffffffffffffffffffffff166e0100000000000000000000000000008883168102919091177bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167c010000000000000000000000000000000000000000000000000000000063ffffffff87160217928390556040517f1c411e9a96e071241c2f21f7726b17ae89e3cab4c78be50e062b03a9fffbbad193612c1c93818116939091041690613d1c565b60405180910390a1505050505050565b600080600560009054906101000a90046001600160a01b03166001600160a01b031663017e7e586040518163ffffffff1660e01b815260040160206040518083038186803b158015612c7d57600080fd5b505afa158015612c91573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612cb59190810190613453565b600e546001600160a01b038216158015945091925090612d89578015612d84576000612cfd6114286dffffffffffffffffffffffffffff88811690881663ffffffff61290c16565b90506000612d0a83612d9c565b905080821115612d81576000612d38612d29848463ffffffff6124f716565b6000549063ffffffff61290c16565b90506000612d5d83612d5186600263ffffffff61290c16565b9063ffffffff6128cd16565b90506000818381612d6a57fe5b0490508015612d7d57612d7d8782612dee565b5050505b50505b612695565b8015612695576000600e55505092915050565b60006003821115612ddf575080600160028204015b81811015612dd957809150600281828581612dc857fe5b040181612dd157fe5b049050612db1565b50612de9565b8115612de9575060015b919050565b600054612e01908263ffffffff6128cd16565b60009081556001600160a01b038316815260016020526040902054612e2c908263ffffffff6128cd16565b6001600160a01b0383166000818152600160205260408082209390935591519091907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90612e7b908590613bd7565b60405180910390a35050565b6000818310612e96578161057a565b5090919050565b6001600160a01b038216600090815260016020526040902054612ec6908263ffffffff6124f716565b6001600160a01b03831660009081526001602052604081209190915554612ef3908263ffffffff6124f716565b60009081556040516001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90612e7b908590613bd7565b60008184841115612f71576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127459190613cc2565b505050900390565b60608082604051602001612f8d9190613aea565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152919052905060205b80156130365781517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90910190829082908110612ff957fe5b01602001517fff0000000000000000000000000000000000000000000000000000000000000016156130315760010181529050612de9565b612fc0565b505060408051600081526020810190915292915050565b60008183613088576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127459190613cc2565b50600083858161309457fe5b0495945050505050565b6dffffffffffffffffffffffffffff166e0100000000000000000000000000000290565b60006dffffffffffffffffffffffffffff82167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8416816130fb57fe5b049392505050565b604080516080810190915260008082526020820190815260200160008152602001600081525090565b6040518060e0016040528060006001600160a01b031681526020016000815260200160008152602001600081526020016000815260200161316b61317d565b815260200161317861317d565b905290565b604080516060810182526000808252602082018190529181019190915290565b80356104ad81613f88565b80516104ad81613f88565b80356104ad81613f9c565b80516104ad81613f9c565b80356104ad81613fa5565b600082601f8301126131e557600080fd5b81356131f86131f382613de6565b613dbf565b9150808252602083016020830185838301111561321457600080fd5b61321f838284613f1b565b50505092915050565b600082601f83011261323957600080fd5b81516132476131f382613de6565b9150808252602083016020830185838301111561326357600080fd5b61321f838284613f27565b60006060828403121561328057600080fd5b61328a6060613dbf565b905060006132988484613422565b82525060206132a984848301613422565b60208301525060406132bd8482850161340c565b60408301525092915050565b6000604082840312156132db57600080fd5b6132e56040613dbf565b905060006132f3848461319d565b8252506020613304848483016131c9565b60208301525092915050565b60006040828403121561332257600080fd5b61332c6040613dbf565b9050600061333a84846131b3565b8252506020613304848483016133eb565b60006040828403121561335d57600080fd5b6133676040613dbf565b9050600061337584846131be565b8252506020613304848483016133f6565b60006040828403121561339857600080fd5b6133a26040613dbf565b905060006132f384846131b3565b6000604082840312156133c257600080fd5b6133cc6040613dbf565b905060006133da84846131be565b825250602061330484848301613401565b80356104ad81613fae565b80516104ad81613fae565b80516104ad81613fa5565b80516104ad81613fb7565b80356104ad81613fc0565b80516104ad81613fc9565b60006020828403121561343f57600080fd5b600061344b848461319d565b949350505050565b60006020828403121561346557600080fd5b600061344b84846131a8565b6000806040838503121561348457600080fd5b6000613490858561319d565b92505060206134a18582860161319d565b9150509250929050565b6000806000606084860312156134c057600080fd5b60006134cc868661319d565b93505060206134dd8682870161319d565b92505060406134ee8682870161319d565b9150509250925092565b60008060006060848603121561350d57600080fd5b6000613519868661319d565b935050602061352a8682870161319d565b92505060406134ee868287016131c9565b600080600080600080600060e0888a03121561355657600080fd5b60006135628a8a61319d565b97505060206135738a828b0161319d565b96505060406135848a828b016131c9565b95505060606135958a828b016131c9565b94505060806135a68a828b01613417565b93505060a06135b78a828b016131c9565b92505060c06135c88a828b016131c9565b91505092959891949750929550565b600080604083850312156135ea57600080fd5b60006135f6858561319d565b92505060206134a1858286016131c9565b60006020828403121561361957600080fd5b600061344b84846131be565b60006020828403121561363757600080fd5b815167ffffffffffffffff81111561364e57600080fd5b61344b84828501613228565b60006060828403121561366c57600080fd5b600061344b848461326e565b60006040828403121561368a57600080fd5b600061344b848461334b565b6000604082840312156136a857600080fd5b600061344b84846133b0565b6000602082840312156136c657600080fd5b600061344b8484613401565b6000806000806000806000806101a0898b0312156136ef57600080fd5b60006136fb8b8b6131c9565b985050602061370c8b828c016131c9565b975050604061371d8b828c016132c9565b965050608061372e8b828c016132c9565b95505060c061373f8b828c01613310565b9450506101006137518b828c01613310565b9350506101406137638b828c01613386565b92505061018089013567ffffffffffffffff81111561378157600080fd5b61378d8b828c016131d4565b9150509295985092959890939650565b60006137a98383613833565b505060200190565b6137ba81613e3f565b82525050565b60006137cb82613e32565b6137d58185613e36565b93506137e083613e2c565b8060005b8381101561380e5781516137f8888261379d565b975061380383613e2c565b9250506001016137e4565b509495945050505050565b6137ba81613e4a565b6137ba61382e82613e4f565b613e74565b6137ba81613e74565b6137ba61382e82613e74565b6137ba61382e82613e77565b600061385f82613e32565b6138698185612de9565b9350613879818560208601613f27565b9290920192915050565b6137ba81613efa565b6137ba81613f05565b60006138a082613e32565b6138aa8185613e36565b93506138ba818560208601613f27565b6138c381613f53565b9093019392505050565b60006138da600283612de9565b7f1901000000000000000000000000000000000000000000000000000000000000815260020192915050565b6000613913601b83613e36565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000815260200192915050565b600061394c600483612de9565b7f444c505f00000000000000000000000000000000000000000000000000000000815260040192915050565b6000613985602183613e36565b7f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f81527f7700000000000000000000000000000000000000000000000000000000000000602082015260400192915050565b60006139e4600183612de9565b7f5f00000000000000000000000000000000000000000000000000000000000000815260010192915050565b6000613a1d601383612de9565b7f446f6c6f6d697465204c5020546f6b656e3a2000000000000000000000000000815260130192915050565b80516080830190613a5a8482613819565b506020820151613a6d6020850182613883565b506040820151613a806040850182613883565b506060820151613a936060850182613833565b50505050565b80516040830190613aaa84826137b1565b506020820151613a936020850182613833565b6137ba81613ea6565b6137ba81613eb9565b6137ba81613f10565b6137ba81613eda565b6137ba81613ee3565b6000613af6828461383c565b50602001919050565b6000613b0b8284613848565b50600401919050565b600061057a8284613854565b6000613b2c8286613854565b9150613b388285613822565b600282019150613b488284613854565b95945050505050565b6000613b5c826138cd565b9150613b68828561383c565b602082019150613b78828461383c565b5060200192915050565b6000613b8d8261393f565b9150613b998285613854565b9150613ba4826139d7565b915061344b8284613854565b6000613b8d82613a10565b602081016104ad82846137b1565b602081016104ad8284613819565b602081016104ad8284613833565b60c08101613bf38289613833565b613c0060208301886137b1565b613c0d60408301876137b1565b613c1a6060830186613833565b613c276080830185613833565b613c3460a0830184613833565b979650505050505050565b60808101613c4d8287613833565b613c5a6020830186613ae1565b613c676040830185613833565b613b486060830184613833565b60a08101613c82828861388c565b613c8f60208301876137b1565b613c9c6040830186613833565b8181036060830152613cae81856137c0565b90508181036080830152613c3481846137c0565b6020808252810161057a8184613895565b602080825281016104ad81613906565b602080825281016104ad81613978565b608081016104ad8284613a49565b60608101613d0f8285613a99565b61057a6040830184613833565b60408101613d2a8285613abd565b61057a6020830184613abd565b60608101613d458286613abd565b613d526020830185613abd565b61344b6040830184613ad8565b602081016104ad8284613ac6565b602081016104ad8284613acf565b60408101613d898285613833565b61057a6020830184613833565b60808101613da48287613833565b613c5a6020830186613833565b602081016104ad8284613ae1565b60405181810167ffffffffffffffff81118282101715613dde57600080fd5b604052919050565b600067ffffffffffffffff821115613dfd57600080fd5b506020601f919091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0160190565b60200190565b5190565b90815260200190565b60006104ad82613ece565b151590565b7fffff0000000000000000000000000000000000000000000000000000000000001690565b90565b7fffffffff000000000000000000000000000000000000000000000000000000001690565b80612de981613f7b565b6dffffffffffffffffffffffffffff1690565b6fffffffffffffffffffffffffffffffff1690565b6001600160a01b031690565b63ffffffff1690565b60ff1690565b6bffffffffffffffffffffffff1690565b60006104ad82613e9c565b60006104ad82613e74565b60006104ad82613eb9565b82818337506000910152565b60005b83811015613f42578181015183820152602001613f2a565b83811115613a935750506000910152565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01690565b60028110613f8557fe5b50565b613f9181613e3f565b8114613f8557600080fd5b613f9181613e4a565b613f9181613e74565b613f9181613eb9565b613f9181613eda565b613f9181613ee3565b613f9181613ee956fea365627a7a72315820a5e469f69f612d25d3eaea21bf88a613a9f6f42518ca17c9b810198a337e6a146c6578706572696d656e74616cf564736f6c63430005100040'

import { INIT_CODE_HASHES } from './constants'

// this _could_ go in constants, except that it would cost every consumer of the sdk the CPU to compute the hash
// and load the JSON.
const MUMBAI_COMPUTED_INIT_CODE_HASH = keccak256(['bytes'], [mumbaiBytecode])
const ARBITRUM_COMPUTED_INIT_CODE_HASH = keccak256(['bytes'], [bytecode])

describe('constants', () => {
  describe('INIT_CODE_HASH', () => {
    it('matches Mumbai computed bytecode hash', () => {
      expect(MUMBAI_COMPUTED_INIT_CODE_HASH).toEqual(INIT_CODE_HASHES[80001])
    })
    it('matches Arbitrum computed bytecode hash', () => {
      expect(ARBITRUM_COMPUTED_INIT_CODE_HASH).toEqual(ARBITRUM_COMPUTED_INIT_CODE_HASH)
    })
  })
})
